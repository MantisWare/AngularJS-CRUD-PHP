<!doctype html>
<html><!-- InstanceBegin template="/Templates/bootstrap-t.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minmum-scale=1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Sponline |</title>
<!-- InstanceEndEditable -->
<link rel="stylesheet" type="text/css" href="css/body.css">
<link rel="stylesheet" type="text/css" href="css/chrome.css">
<link rel="stylesheet" type="text/css" href="third-party/bootstrap-3.3.5-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="third-party/font-awesome-4.4.0/css/font-awesome.min.css">
<script type="text/javascript" src="third-party/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="third-party/angular-1.4.2/angular.min.js"></script>
<script type="text/javascript" src="third-party/angular-1.4.2/angular-animate.min.js"></script>
<script type="text/javascript" src="third-party/angular-1.4.2/angular-route.min.js"></script>
<script type="text/javascript" src="third-party/angular-1.4.2/angular-touch.min.js"></script>
<script type="text/javascript" src="third-party/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/controllerCRUD.js"></script>
<script type="text/javascript" src="js/controllerCRUD-create.js"></script>
<script type="text/javascript" src="js/controllerCRUD-read.js"></script>
<script type="text/javascript" src="js/controllerCRUD-update.js"></script>
<script type="text/javascript" src="js/controllerCRUD-delete.js"></script>
<script type="text/javascript" src="js/controller-listwin.js"></script>
  <script src="third-party/ng-file-upload-5.0.9/demo/src/main/webapp/js/ng-file-upload-shim.js"></script>
  <script src="third-party/ng-file-upload-5.0.9/demo/src/main/webapp/js/ng-file-upload.js"></script>
<!-- InstanceBeginEditable name="head" -->
<script type="text/javascript" src="js/securityControl.js"></script>
<script>
$(function() {
  var isLogin = getCookie('isLogin');
  if(isLogin=="0"){
  }
    else{
      checkUserLogin();
    }
});
</script>
<script>
    // define angular module/app
    //var formApp = angular.module('myApp', []);
	//var app = angular.module('myApp', []);

    // create angular controller and pass in $scope and $http
	app.controller('mainFormCtrl', function($scope, $http) {
		$scope.formData = {};
		$scope.formAction = "";
		$scope.formMethod = "";
		
		$scope.submitMainForm = function(){
			
		  $http({
		  method  : $scope.formMethod,
		  url     : $scope.formAction,
		  data    : $.param($scope.formData),  // pass in data as strings
		  headers : { 'Content-Type': 'application/x-www-form-urlencoded' }  // set the headers so angular passing info as form data (not request payload)
		 })
		  .success(function(data) {
			console.log(data);
			if(data['num_rows'] > 0)
				window.location.replace('main-menu.html');
			else
				$(".fail").show();
			//if (!data.success) {
			  // if not successful, bind errors to error variables
			  //$scope.errorName = data.errors.name;
			  //$scope.errorSuperhero = data.errors.superheroAlias;
			//} else {
			  // if successful, bind success message to message
			  //$scope.message = data.message;
			//}
		  });
		}
    });
</script>
<style>
#login-form-container {
	max-width:640px;
	margin-left: auto;
	margin-right: auto;
	padding: 50px;
}
</style>
<!-- InstanceEndEditable -->
</head>

<body ng-app="myApp">
<div id="top">
  <div id="topBar">
  <!-- InstanceBeginEditable name="topbar" -->
  <!-- InstanceEndEditable -->
  </div>
</div>
<!-- header start -->
<div id="header">
  <div id="header_title">
    <!-- InstanceBeginEditable name="header" -->
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div id="comapny_icon_container" class="navbar-brand">
        <a href="index.html"></a>
        <span class="hidden-xs">sponline 藥房</span>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
	<!-- InstanceEndEditable -->
  </div>
</div>
<!-- header end -->
<!-- site position start -->
<!-- InstanceBeginEditable name="position" -->
<div id="site_position">
<ul>
  <li><a href="http://localhost/sponline">首頁</a></li>
  <li><a href="login.html">帳號登入</a></li>
</ul>
</div>
<!-- InstanceEndEditable -->
<!-- site position end -->
<!-- InstanceBeginEditable name="intro" -->
<!-- InstanceEndEditable -->
<div id="content" class="container">
  <!-- InstanceBeginEditable name="content" -->
  <div class="container-fluid panel">
    <div id="login-form-container">
    <form class="form-horizontal" ng-controller="mainFormCtrl" ng-submit="submitMainForm()">
    <fieldset>
    <legend>Admin Authentication</legend>
			<input hidden type="text" ng-model="formAction" ng-init="formAction = 'controller/user-login.php'">
			<input hidden type="text" ng-model="formMethod" ng-init="formMethod = 'POST'">
          <div class="form-group">
            <div class="alert alert-danger fail" role="alert" style="display: none;">Incorrect login ID and password</div>
          </div>
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">Login ID</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="username" name="username" placeholder="Email" ng-model="formData.username">
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">Password</label>
            <div class="col-sm-10">
              <input type="password" class="form-control" id="password" placeholder="Password" ng-model="formData.password">
            </div>
          </div>
      <div class="form-group sr-only">
        <div class="col-sm-offset-2 col-sm-10">
          <div class="checkbox">
            <label>
              <input type="checkbox"> Remember me
            </label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-primary">Sign in</button>
          <!-- <button type="reset" class="col-sm-offset-1 btn btn-default">Cancel</button> -->
        </div>
      </div>
      </fieldset>
    </form>
    </div>
  </div>
  <!-- InstanceEndEditable -->
  <div id="lasted_update"></div>
</div>
<div id="footer">
<footer>
  <div id="team_member_backgroup">
    <div id="team_member">
      <ol>
        <li>網站地圖︰
          <nav>
            <ul>
              <li>家庭用品</li>
              <li>浴室用品</li>
              <li>獨立專區</li>
              <li>嬰兒專區</li>
              <li>長者專區</li>
              <li>衛生防護用品</li>
            </ul>
          </nav>
        </li>
        <li>關於本店:
          <nav>
            <ul>
              <li><a href="#">商店資訊</a></li>
              <li><a href="#">付款須知</a></li>
              <li><a href="#">私隱聲明</a></li>
              <li><a href="#">聯絡我們</a></li>
            </ul>
          </nav>
        </li>
        <li style="display: none;">You may contact us by using the following information 
          or sending us a message via our contact form.
          <nav>
            <ul>
              <li>Tel: 2900 0000</li>
              <li>Email: admin@hrms.com.hk</li>
            </ul>
          </nav>
        </li>
      </ol>
    </div>
  </div>
  <div id="copyright"> Copyright © 2015. All Rights Reserved. </div>
</footer>
</div>
</body>
<!-- InstanceEnd --></html>
